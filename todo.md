-----------
finish todos for chap4
-----------
write unit tests
-----------
write one functional test that takes the testfile and does not crash
-----------
